[user]
    useConfigOnly = true
[push]
    default = current
[merge]
    ff = false
[pull]
    ff = only
[color]
    ui = auto
[core]
    quotepath = false
[github]
    user = mopp
[alias]
    difff = diff --relative --name-only
    diffh = diff --histogram
    diffw = diff --histogram --word-diff --word-diff-regex='\\w+|[^[:space:]]'
    graph = log --graph --decorate --oneline --max-count=16
    logs = log --stat --decorate --color --graph --pretty=fuller --max-count=16
    url = !echo $(git config remote.origin.url | sed -Ee 's!(git@|git://|ssh://)!https://!' -e 's!:([^/])!/\\1!' | sed -e 's/.git$//')
    open = !$(command -v open || command -v xdg-open) $(git url)
    pr = !$(command -v open || command -v xdg-open) $(git url)/compare/$(git rev-parse --abbrev-ref HEAD)?expand=1
    pr-echo = !echo $(git url)/compare/$(git rev-parse --abbrev-ref HEAD)?expand=1
    rename = branch -m
    select = "!f() { select ans in $(git status --short | awk '{print $2}'); do $EDITOR $ans; break; done }; f"
    squeeze = commit --amend --no-edit
    unstage = reset HEAD
    uncommit = reset --soft HEAD~
    pushf = push --force-with-lease origin HEAD
    push = push origin HEAD
    wip = commit --message 'wip'
    pullr = !git pull --rebase $(git symbolic-ref refs/remotes/origin/HEAD --short | tr '/' ' ')
    reload = !git reset --hard origin/$(git rev-parse --abbrev-ref HEAD)
[pager]
    branch = false
[fetch]
    prune = true
[add.interactive]
    useBuiltin = false # required for git 2.37.0
[credential "https://github.com"]
    helper =
    helper = !gh auth git-credential
[credential "https://gist.github.com"]
    helper =
    helper = !gh auth git-credential

; For delta
[core]
    pager = delta
[interactive]
    diffFilter = delta --color-only
[delta]
    side-by-side = true
    ; Copy from https://github.com/folke/tokyonight.nvim/blob/main/extras/delta/tokyonight_night.gitconfig
    minus-style                   = syntax "#37222c"
    minus-non-emph-style          = syntax "#37222c"
    minus-emph-style              = syntax "#713137"
    minus-empty-line-marker-style = syntax "#37222c"
    line-numbers-minus-style      = "#914c54"
    plus-style                    = syntax "#20303b"
    plus-non-emph-style           = syntax "#20303b"
    plus-emph-style               = syntax "#2c5a66"
    plus-empty-line-marker-style  = syntax "#20303b"
    line-numbers-plus-style       = "#449dab"
    line-numbers-zero-style       = "#3b4261"
[merge]
    conflictstyle = zdiff3
[diff]
    colorMoved = default
